---
title: "B1App"
---

# B1App

<div class="article-intro">

B1App -- публичное приложение для членов церкви, построенное на Next.js. Оно обеспечивает пользовательский опыт для членов, включая профили, справочники групп, прямые трансляции и страницы пожертвований.

</div>

<div class="prereqs">
<h4>Перед началом работы</h4>

- Установите **Node.js 22+** и **Git** -- см. [Предварительные требования](../setup/prerequisites)
- Настройте цель API (staging или локальный) -- см. [Переменные окружения](../setup/environment-variables)

</div>

:::warning
B1App требует Node.js 22 или новее. Более ранние версии не поддерживаются.
:::

## Настройка

### 1. Клонирование репозитория

```bash
git clone https://github.com/ChurchApps/B1App.git
```

### 2. Установка зависимостей

```bash
cd B1App
npm install
```

### 3. Настройка переменных окружения

```bash
cp dotenv.sample.txt .env
```

Откройте `.env` и настройте URL-адреса эндпоинтов `NEXT_PUBLIC_*_API`. Они могут указывать на staging API или на ваш локальный экземпляр API.

### 4. Запуск сервера разработки

```bash
npm run dev
```

Сервер разработки Next.js запускается по адресу [http://localhost:3301](http://localhost:3301).

## Основные команды

| Команда | Описание |
|---------|-------------|
| `npm run dev` | Запуск сервера разработки Next.js на порту 3301 |
| `npm run build` | Продакшен-сборка через Next.js |
| `npm run test` | Запуск сквозных тестов с Playwright |
| `npm run lint` | Запуск линтера Next.js |

## Ключевые переменные окружения

| Переменная | Описание |
|----------|-------------|
| `NEXT_PUBLIC_*_API` | URL API-эндпоинтов для каждого модуля |

:::info
Скрипт `postinstall` копирует файлы локализации и CSS из `@churchapps/apphelper`. Если компоненты выглядят без стилей после установки, выполните `npm run postinstall` вручную.
:::

## Технологический стек

- **Next.js 16** с TypeScript
- **React 19** для UI-компонентов
- **Material-UI 7** для дизайн-системы
- **React Query 5** для управления серверным состоянием
- Пакеты **`@churchapps/apphelper*`** для общих компонентов

## Развёртывание

Продакшен-сборки развёртываются в **S3 + CloudFront**:

1. `npm run build` генерирует оптимизированную сборку Next.js
2. Вывод сборки синхронизируется с S3-бакетом
3. Запускается инвалидация CloudFront для обслуживания новой версии

:::tip
Подробные инструкции по развёртыванию см. в руководстве [Развёртывание веб-приложений](../deployment/web-apps).
:::
